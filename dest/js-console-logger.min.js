/** JSConsoleLogger v1.0.0 | Released under the MIT license | https://github.com/Kyo-suke/JSConsoleLogger */
var JSConsoleLogger;(function(b){b=b.LoggingTarget||(b.LoggingTarget={});b[b.debug=1]="debug";b[b.error=2]="error";b[b.info=4]="info";b[b.log=8]="log";b[b.warn=16]="warn"})(JSConsoleLogger||(JSConsoleLogger={}));
(function(b){var d=function(){function a(){throw Error("Downloader is static class.");}a.download=function(c,a){var b=this;if(c=c.entity)if(a=this._genFilename(a),navigator.msSaveBlob)navigator.msSaveBlob(c,a);else{var e=null;try{var d=this._createLinkElement();e=URL.createObjectURL(c);this._setAttributes(d,a,e);d.click();setTimeout(function(){b._revoke(e)},this.REVOKE_TIMEOUT)}catch(f){console.error("failed to download."),console.error(f.meesage),console.error(f.stack),this._removeLinkElement(),
e&&this._revoke(e)}}};a._revoke=function(c){URL.revokeObjectURL(c);this._removeLinkElement()};a._genFilename=function(c){c||(c=this.DEFAULT_FILENAME);var a=new Date,b=[a.getFullYear(),a.getMonth(),a.getDate()].join("");c=c.replace("%d",b);a=[a.getHours(),a.getMinutes(),a.getSeconds()].join("");return c=c.replace("%t",a)};a._createLinkElement=function(){document.querySelector("#"+this.ELEMENT_ID)&&this._removeLinkElement();var c=document.createElement("a");c.setAttribute("id",this.ELEMENT_ID);c.setAttribute("download",
"");c.setAttribute("target","_blank");c.setAttribute("href","");c.setAttribute("style","display: block; visibility: hidden; width: 0; height: 0;");return document.body.appendChild(c)};a._removeLinkElement=function(){var c=document.querySelector("#"+this.ELEMENT_ID);c&&document.body.removeChild(c)};a._setAttributes=function(c,a,b){c.setAttribute("download",a);c.setAttribute("href",b);return c};a.ELEMENT_ID="JSConsoleLogDownloader";a.DEFAULT_FILENAME="log_%d_%t.log";a.REVOKE_TIMEOUT=5E3;return a}();
b.Downloader=d})(JSConsoleLogger||(JSConsoleLogger={}));
(function(b){var d=function(){function a(){throw Error("Logger is static class.");}a.initialize=function(c){void 0===c&&(c=1E3);for(var a=[],b=1;b<arguments.length;b++)a[b-1]=arguments[b];0>=a.length&&(a=["debug","error","info","log","warn"]);this._bufferSize=c;this.clear();this.setLoggingTarget.apply(this,a);this._hook()};a.clear=function(){this._buffer=[]};a.setLoggingTarget=function(){for(var a=[],e=0;e<arguments.length;e++)a[e]=arguments[e];if(a)for(e=this._loggingTarget=0;e<a.length;e++){var d=
a[e];d in b.LoggingTarget&&(this._loggingTarget|=b.LoggingTarget[d])}};a.setLogBufferSize=function(a){this._bufferSize=a||0;this._rotate()};a.setStackTraceOnConsole=function(a){this._isStackTrace=a};a.push=function(a,b){if(this._isLoggingTarget(a)){for(var c="",d=0;d<b.length;d++){var e=b[d];0<d&&(c+=", ");switch(typeof e){case "string":c+=e;break;case "number":c+=e.toString();break;case "object":try{c+=JSON.stringify(e)}catch(f){c+="[object]"}case "undefined":c+="undefined";break;default:c+=""}}this._buffer.push({type:a,
message:c,time:new Date});this._rotate()}};a._rotate=function(){0<this._bufferSize&&this._buffer.length>this._bufferSize&&this._buffer.splice(0,this._buffer.length-this._bufferSize)};a._hook=function(){function a(a,c){return function f(){for(var d=[],e=0;e<arguments.length;e++)d[e]=arguments[e];f.caller&&f.caller===f||(c.apply(console,d),console.trace&&b._isStackTrace&&console.trace(),b.push(a,d))}}var b=this;console&&(console.debug=a("debug",console.debug),console.error=a("error",console.error),
console.info=a("info",console.info),console.log=a("log",console.log),console.warn=a("warn",console.warn))};a._isLoggingTarget=function(a){return a in b.LoggingTarget?0<(this._loggingTarget&b.LoggingTarget[a]):!1};a.getLogData=function(){return this._buffer};a._bufferSize=1E3;a._isStackTrace=!1;return a}();b.Logger=d;d.initialize()})(JSConsoleLogger||(JSConsoleLogger={}));
(function(b){b.log=function(){for(var d=[],a=0;a<arguments.length;a++)d[a]=arguments[a];b.Logger.push("log",d)};b.info=function(){for(var d=[],a=0;a<arguments.length;a++)d[a]=arguments[a];b.Logger.push("info",d)};b.debug=function(){for(var d=[],a=0;a<arguments.length;a++)d[a]=arguments[a];b.Logger.push("debug",d)};b.warn=function(){for(var d=[],a=0;a<arguments.length;a++)d[a]=arguments[a];b.Logger.push("warn",d)};b.error=function(){for(var d=[],a=0;a<arguments.length;a++)d[a]=arguments[a];b.Logger.push("error",
d)};b.clear=function(){b.Logger.clear()};b.getLogData=function(){return b.Logger.getLogData()};b.getLogFileBlob=function(d,a,c){void 0===d&&(d="text/plain");void 0===a&&(a=!1);void 0===c&&(c="crlf");var e=b.Logger.getLogData();return(new b.LogFile(e,d,a,c)).entity};b.save=function(d,a,c,e){void 0===d&&(d=null);void 0===a&&(a="text/plain");void 0===c&&(c=!1);void 0===e&&(e="crlf");var k=b.Logger.getLogData();a=new b.LogFile(k,a,c,e);b.Downloader.download(a,d)};b.setLoggingTarget=function(){for(var d=
[],a=0;a<arguments.length;a++)d[a]=arguments[a];b.Logger.setLoggingTarget.apply(b.Logger,d)};b.setLogBufferSize=function(d){b.Logger.setLogBufferSize(d)};b.setStackTraceOnConsole=function(d){b.Logger.setStackTraceOnConsole(d)}})(JSConsoleLogger||(JSConsoleLogger={}));
(function(b){var d=function(){function a(){throw Error("LogFormatter is static class.");}a.format=function(a){var c=this._getLogTypeStr(a.type),b=this._getDataStr(a.time),d=this._getTimeStr(a.time);return[b,d,c,a.message||""].join(this.DELIMITER)};a._getLogTypeStr=function(a){return"["+a+"]"};a._getDataStr=function(a){var c="";try{var b=this._paddingStr(a.getFullYear(),"0",4),d=this._paddingStr(a.getMonth(),"0",2),h=this._paddingStr(a.getDate(),"0",2);c=[b,d,h].join("/")}catch(f){c="--/--/--"}return c};
a._getTimeStr=function(a){var c="";try{var b=this._paddingStr(a.getHours(),"0",2),d=this._paddingStr(a.getMinutes(),"0",2),h=this._paddingStr(a.getSeconds(),"0",2);c=[b,d,h].join(":")}catch(f){c="??:??:??"}return c};a._paddingStr=function(a,b,d){var c="";try{c=(Array(d+1).join(b.slice(0,1))+a).slice(-1*d)}catch(h){c=""+a}return c};a.DELIMITER=" ";return a}();b.LogFormatter=d})(JSConsoleLogger||(JSConsoleLogger={}));
(function(b){var d=function(){function a(c,b,d,g){void 0===b&&(b="text/plain");void 0===d&&(d=!1);void 0===g&&(g="crlf");this._mimeType=b;this._lineFeedCodeType=g;this._withBOM=d;c=this._logData2StrList(c);this._withBOM&&c.unshift(a.BOM);this._entity=new Blob(c,{type:this._mimeType})}a.prototype._logData2StrList=function(a){for(var c=[],d=0;d<a.length;d++){var g=b.LogFormatter.format(a[d]);g+="\n";g=this._replaceLineFeedCode(g);c.push(g)}return c};a.prototype._replaceLineFeedCode=function(a){switch(this._lineFeedCodeType){case "lf":a=
a.replace("\r\n","\n");break;case "cr":a=a.replace("\r\n","\r");break;case "crlf":a=a.replace("\r\n","\n"),a=a.replace("\r","\n"),a=a.replace("\n","\r\n")}return a};Object.defineProperty(a.prototype,"entity",{get:function(){return this._entity},enumerable:!0,configurable:!0});a.BOM=new Uint8Array([239,187,191]);return a}();b.LogFile=d})(JSConsoleLogger||(JSConsoleLogger={}));